@using Kotabko.ViewModel;
@model ShoppingCardVM

@* to render temp data*@

<partial name="_notification"></partial>

@{
    ViewData["title"] = "shopping card summary";
}

<table class="table">
    <thead>
        <tr>

            <th scope="col">select Amount</th>
            <th scope="col">BookName</th>
            <th scope="col">price</th>
            <th scope="col">subtotal</th>
            <th scope="col">Actions</th>
        </tr>
    </thead>
    @foreach (var item in Model.ShoppingCard.ShoppingCardItems)
    {
        <tbody>
            <tr>

                <td>@item.Amount</td>
                <td>@item.Book.Title</td>
                <td>@item.Book.Price</td>
                <td>@((item.Amount * item.Book.Price).ToString("c"))</td>
                <td class="align-middle">
                    <a class="text-danger" asp-controller="Orders" asp-action="RemoveItemsfromShoppingCard" asp-route-id="@item.Book.Id"> <i class="bi bi-cart-dash"></i> </a>
                    |
                    <a class=" text-success" asp-controller="Orders" asp-action="AddItemsToShoppingCard" asp-route-id="@item.Book.Id">  <i class="bi bi-cart-plus"></i> </a>

                </td>


            </tr>

        </tbody>

    }

    <tfoot>
        <tr>
            <td colspan="2"></td>
            <td> <b>Total:</b> </td>
            <td> @Model.ShoppingCardTotal.ToString("c") </td>
            <td> </td>
        </tr>
    </tfoot>

</table>

<div>
    <div class="btn btn-group">
        <a class="btn btn-success" asp-controller="Book" asp-action="Index"> Add more Items</a>
    </div>
</div>